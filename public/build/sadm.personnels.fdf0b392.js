(self.webpackChunkintranetv3=self.webpackChunkintranetv3||[]).push([[5770],{5230:(e,t,a)=>{var n=a(9755),s=a(9755);n(document).on("keyup","#sa_login_urca",(function(){var e=n(this).data("departement"),t=n(this).val();t.length>2&&n.ajax({url:Routing.generate("api_personnel_recherche",{needle:t}),dataType:"json",success:function(t){n("#result").empty(),s.each(t,(function(t,a){var s="<tr><td>"+a.nom+"</td><td>"+a.prenom+"</td><td>"+a.numeroHarpege+"</td><td>"+a.username+"</td><td>"+a.mail_univ+'</td><td><a href="#" class="btn btn-success btn-outline btn-square sa_addpersonnel" data-provide="tooltip" data-placement="bottom" title="Ajouter au departement" data-slug="'+a.slug+'" data-departement="'+e+'"><i class="fas fa-plus"></i></a></td></tr>';n("#result").append(s)}))}})})),n(document).on("click",".sa_addpersonnel",(function(){n.ajax({url:Routing.generate("api_personnel_add_to_departement",{slug:n(this).data("slug"),departement:n(this).data("departement")}),dataType:"json",success:function(e){addCallout("Personnel ajouté au departement !","success")}})})),n(document).on("change",".change_droit_pf",(function(){n.ajax({url:Routing.generate("sa_personnel_departement_modifier_droit",{pf:n(this).data("pf")}),method:"POST",data:{droit:n(this).val()},success:function(e){addCallout("Droits modifiés !","success")}})})),n(document).on("click","#searchLdap",(function(e){e.preventDefault(),n.ajax({url:Routing.generate("ldap_search"),method:"POST",data:{numero:n("#personnel_numero_harpege").val()},success:function(e){n("#personnel_mail_univ").val(e.mail),n("#personnel_username").val(e.login)}})}))}},e=>{"use strict";e.O(0,[9755],(()=>{return t=5230,e(e.s=t);var t}));e.O()}]);