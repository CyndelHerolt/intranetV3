(self.webpackChunk=self.webpackChunk||[]).push([[1692],{20198:(e,t,n)=>{"use strict";n(30126),n(54218);var a=n(19755),i=n.n(a),o=!1,r=null,l=!1;function c(){if(!0===l&&!0===o){var e=[];i().each(i()('input:checkbox[name="apc_sae[competences][]"]:checked'),(function(){e.push(i()(this).val())})),i().ajax({url:Routing.generate("administration_apc_sae_ajax_ac"),type:"POST",dataType:"json",data:{semestre:r,competences:e,sae},success:function(e){console.log(e);var t="";if(!1!==e)for(var n in e){for(var a in t=t+"<p>"+n+'</p><div class="row">',e[n])t=t+'<div class="col-md-6"><div class="form-check"><input type="checkbox" id="ac_'+e[n][a].id+'" name="ac[]" class="form-check-input" value="'+e[n][a].id+'" '+e[n][a].checked+'>\n<label class="form-check-label" for="ac_'+e[n][a].id+'">'+e[n][a].libelle+"</label></div></div>";t+="</div>"}else t='<div class="alert alert-warning">Indiquer un semestre et au moins une compétence</div>';i()("#acSae").html(t)}})}else{i()("#acSae").html('<div class="alert alert-warning">Indiquer un semestre et au moins une compétence</div>')}}i()(document).on("change",'input:radio[name="apc_sae[semestre]"]',(function(e){r=i()(this).val(),o=!0,c()})),i()(document).on("change",'input:checkbox[name="apc_sae[competences][]"]',(function(e){console.log(i()(this).val()),l=i()('input:checkbox[name="apc_sae[competences][]"]:checked').length>0,c()})),i()(document).ready((function(){o=!0,r=i()('input:radio[name="apc_sae[semestre]"]').val(),l=i()('input:checkbox[name="apc_sae[competences][]"]:checked').length>0,c()})),i()(document).ready((function(){var e=i()(".selector-niveauCompetence");e.length>0&&(e.collection(),i()(document).on("click",".apc_competence_apcNiveaux-collection-action",(function(){var e=i()(".selector-apprentissageCritique");e.length>0&&e.collection()})));var t=i()(".selector-niveauComposanteEssentielles");t.length>0&&t.collection();var n=i()(".selector-apcRessourceApprentissageCritique");n.length>0&&n.collection();var a=i()(".selector-apprentissageCritique");a.length>0&&a.collection();var o=i()(".selector-niveauSituationsProfessionnelles");o.length>0&&o.collection()})),i()(document).on("change",".checkNiveau",(function(e){var t=0;console.log("toto"),i()(this).is(":checked")&&(t=1);var n=i()(this).data("parcours");i().ajax({url:Routing.generate("administration_apc_parcours_niveau_ajax",{parcours:n,etat:t,niveau:i()(this).val()}),success:function(e){}})}))},54218:(e,t,n)=>{var a=n(19755);a.fn.datepicker.dates.fr={days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["d","l","ma","me","j","v","s"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthsShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],today:"Aujourd'hui",monthsTitle:"Mois",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"}},30126:(e,t,n)=>{var a,i=n(19755);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(57327),n(69826),n(69600),n(47042),n(2707),n(83710),n(68309),n(9653),n(54678),n(24603),n(74916),n(39714),n(15306),n(23123),(a=i).fn.collection=function(e){var t={container:"body",allow_up:!0,up:'<a href="#">&#x25B2;</a>',before_up:function(e,t){return!0},after_up:function(e,t){return!0},allow_down:!0,down:'<a href="#">&#x25BC;</a>',before_down:function(e,t){return!0},after_down:function(e,t){return!0},allow_add:!0,add:'<a href="#"><i class="fas fa-plus-circle"></i></a>',before_add:function(e,t){return!0},after_add:function(e,t){return!0},allow_remove:!0,remove:'<a href="#"><i class="fas fa-minus-circle"></i></a>',before_remove:function(e,t){return!0},after_remove:function(e,t){return!0},allow_duplicate:!1,duplicate:'<a href="#">[ # ]</a>',before_duplicate:function(e,t){return!0},after_duplicate:function(e,t){return!0},before_init:function(e){},after_init:function(e){},min:0,max:100,add_at_the_end:!1,prefix:"collection",prototype_name:"__name__",name_prefix:null,elements_selector:"> div, > fieldset",elements_parent_selector:"%id%",children:null,init_with_n_elements:0,hide_useless_buttons:!0,drag_drop:!0,drag_drop_options:{placeholder:"ui-state-highlight"},drag_drop_start:function(e,t){return!0},drag_drop_update:function(e,t){return!0},custom_add_location:!1,action_container_tag:"div",fade_in:!0,fade_out:!0,position_field_selector:null,preserve_names:!1},n=function(e,t){if(!t.attr("id")){var n;do{n=e+"_"+(""+1e3*Math.random()*(new Date).getTime()).replace(".","").split("").sort((function(){return.5-Math.random()})).join("")}while(a("#"+n).length>0);t.attr("id",n)}return t.attr("id")},r=function(e){try{var t=a(e)}catch(e){return null}return 0===t.length?null:t.is('input[type="checkbox"]')?!0===t.prop("checked"):t.is('input[type="radio"]')&&void 0!==t.attr("name")?a('input[name="'+t.attr("name")+'"]:checked').val():void 0!==t.prop("value")?t.val():t.html()},l=function(e,t,n){try{var i=a(e)}catch(e){return}0!==i.length&&(i.is('input[type="checkbox"]')?t?i.attr("checked",!0):i.removeAttr("checked"):void 0!==i.prop("value")?n?i.attr("value",t):i.val(t):i.html(t))},c=function(e){return void 0===e||e},s=function(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},d=function(e,t,n,i){var r=function(e){var t=a(e);"object"===o(e)&&"attributes"in e&&a.each(e.attributes,(function(e,o){"string"===a.type(o.value)&&t.attr(o.name.replace(n,i),o.value.replace(n,i))})),t.length>0&&a.each(t.data(),(function(e,o){"string"===a.type(o)&&t.data(e.replace(n,i),o.replace(n,i))}))},l=e.eq(t);r(l[0]),l.find("*").each((function(){r(this)}))},f=function(e,t,n,i,o,r){var l=new RegExp(s(n.name_prefix+"["+o+"]"),"g"),c=n.name_prefix+"["+r+"]";n.children&&a.each(n.children,(function(t,n){var a=e.find(n.selector).eq(i),o=a.data("collection-settings");o&&(o.name_prefix=o.name_prefix.replace(l,c),a.data("collection-settings",o))})),d(t,i,l,c),l=new RegExp(s(e.attr("id")+"_"+o),"g"),c=e.attr("id")+"_"+r,n.children&&a.each(n.children,(function(t,n){var a=e.find(n.selector).eq(i),o=a.data("collection-settings");o&&(o.elements_parent_selector=o.elements_parent_selector.replace(l,c),o.elements_selector=o.elements_selector.replace(l,c),o.prefix=o.prefix.replace(l,c),a.data("collection-settings",o))})),d(t,i,l,c)},u=function(e,t,n,a){var i=e.data("collection-settings");return i.position_field_selector||i.preserve_names||(f(e,t,i,n,n,"__swap__"),f(e,t,i,a,a,n),f(e,t,i,n,"__swap__",a)),t.eq(n).insertBefore(t.eq(a)),a>n?t.eq(a).insertBefore(t.eq(n)):t.eq(a).insertAfter(t.eq(n)),e.find(i.elements_selector)},p=function(e,t,n,a,i){for(var o=a+1;o<=i;o++)t=u(e,t,o,o-1);return e.find(n.elements_selector)},_=function(e,t,n,a,i){for(var o=a-1;o>=i;o--)t=u(e,t,o,o+1);return e.find(n.elements_selector)},m=function(e,t,n,a){for(var i=a+1;i<t.length;i++)t=u(e,t,i-1,i);return e.find(n.elements_selector)},h=function(e,t,i,o){var r=a(t.elements_parent_selector),l=0===r.find("."+t.prefix+"-tmp").length,c=e.find(t.elements_selector);if(t.allow_add&&l&&(r.append('<span class="'+t.prefix+'-tmp"></span>'),t.add&&r.append(a(t.add).addClass(t.prefix+"-action "+t.prefix+"-rescue-add").data("collection",e.attr("id")))),i){e.data("collection-offset",c.length);for(var s=a(t.container),d=e.find("."+t.prefix+"-add, ."+t.prefix+"-rescue-add, ."+t.prefix+"-duplicate").first(),f=0;c.length<t.init_with_n_elements;){f++;var u=c.length>0?c.last():void 0,p=c.length-1;if(c=g(s,d,e,t,c,u,p,!1),f>t.init_with_n_elements){console.error("Infinite loop, element selector ("+t.elements_selector+") not found !");break}}e.data("collection-offset",c.length)}if(c.each((function(r){var l=a(this);i&&l.data("index",r);var s=l.find("."+t.prefix+"-actions").addBack().filter("."+t.prefix+"-actions");0===s.length&&(s=a("<"+t.action_container_tag+' class="'+t.prefix+'-actions"></'+t.action_container_tag+">"),l.append(s));var d=0;"remove"===o&&t.fade_out&&(d=1);var f=[{enabled:t.allow_remove,selector:t.prefix+"-remove",html:t.remove,condition:c.length-d>t.min},{enabled:t.allow_up,selector:t.prefix+"-up",html:t.up,condition:c.length-d>1&&c.index(l)-d>0},{enabled:t.allow_down,selector:t.prefix+"-down",html:t.down,condition:c.length-d>1&&c.index(l)!==c.length-1},{enabled:t.allow_add&&!t.add_at_the_end&&!t.custom_add_location,selector:t.prefix+"-add",html:t.add,condition:c.length-d<t.max},{enabled:t.allow_duplicate,selector:t.prefix+"-duplicate",html:t.duplicate,condition:c.length-d<t.max}];a.each(f,(function(i,o){if(o.enabled){var c=l.find("."+o.selector);0===c.length&&o.html&&(c=a(o.html).appendTo(s).addClass(o.selector)),o.condition?(c.removeClass(t.prefix+"-action-disabled"),t.hide_useless_buttons&&c.css("display","")):(c.addClass(t.prefix+"-action-disabled"),t.hide_useless_buttons&&c.css("display","none")),c.addClass(t.prefix+"-action").data("collection",e.attr("id")).data("element",n(e.attr("id")+"_"+r,l))}else l.find("."+o.selector).css("display","none")}))})),t.allow_add){var _=0;"remove"===o&&t.fade_out&&(_=1);var m=e.find("."+t.prefix+"-rescue-add").css("display","").removeClass(t.prefix+"-action-disabled"),h=e.find("."+t.prefix+"-add");!t.add_at_the_end&&h.length>_||t.custom_add_location?m.css("display","none"):"remove"===o&&t.fade_out&&(m.css("display","none"),m.fadeIn("fast")),c.length-_>=t.max&&(m.addClass(t.prefix+"-action-disabled"),t.hide_useless_buttons&&e.find("."+t.prefix+"-add, ."+t.prefix+"-rescue-add, ."+t.prefix+"-duplicate").css("display","none"))}},v=function(e,t,n){n.children&&a.each(n.children,(function(n,a){if(!a.selector)return console.log("jquery.collection.js: given collection "+e.attr("id")+" has children collections, but children's root selector is undefined."),!0;null!==t?t.find(a.selector).collection(a):e.find(a.selector).collection(a)}))},g=function(e,t,n,i,o,d,f,u){if(o.length<i.max&&(u&&c(i.before_duplicate(n,d))||c(i.before_add(n,d)))){var p=n.data("prototype"),_=n.data("collection-offset");n.data("collection-offset",_+1),-1===f&&(f=o.length-1);var g=new RegExp(s(i.prototype_name),"g"),x=_;i.preserve_names&&(void 0===(x=n.data("collection-free-key"))&&(x=j(i,o)),n.data("collection-free-key",x+1));var q=a(p.replace(g,x)).data("index",_);k(i,q);var C=a(i.elements_parent_selector).find("> ."+i.prefix+"-tmp");if(a(q).find("[id]").first().attr("id"),u){var S=o.eq(f);!function(e){a(e).find(":input").each((function(e,t){l(t,r(t),!0)}))}(S);var E=a("<div/>").append(S.clone()).html(),R=i.preserve_names||i.position_field_selector?S.data("index"):f,A=i.preserve_names?y(i,S):R,B=function(e,t,n,a,i,o,r){var l=new RegExp(s(t.name_prefix+"["+o+"]"),"g"),c=t.name_prefix+"["+r+"]";return n=n.replace(l,c),l=new RegExp(s(e.attr("id")+"_"+a),"g"),c=e.attr("id")+"_"+i,n.replace(l,c)}(n,i,E,R,_,A,x);q=a("<div/>").html(B).contents().data("index",_),i.fade_in&&q.hide(),C.before(q).find(i.prefix+"-actions").remove()}else i.fade_in&&q.hide(),C.before(q);o=n.find(i.elements_selector);var I=q.find("."+i.prefix+"-add, ."+i.prefix+"-duplicate");I.length>0&&I.addClass(i.prefix+"-action").data("collection",n.attr("id")),i.add_at_the_end||f+1===_?h(n,i,!1):o=w(n,i,o,q,_,f+1),v(n,q,i),(u&&!c(i.after_duplicate(n,q))||!c(i.after_add(n,q)))&&(-1!==f&&(o=m(n,o,i,f+1)),q.remove())}if(void 0!==q&&i.fade_in)q.fadeIn("fast",(function(){i.position_field_selector&&b(i,o)}));else if(i.position_field_selector)return b(i,o);return o},x=function(e,t,n,i,o){if(n.length>t.min&&c(t.before_remove(e,i))){var r=function(){var r=i;t.preserve_names||(r=(n=m(e,n,t,o)).last());var l=r.clone({withDataAndEvents:!0}).show();r.remove(),c(t.after_remove(e,l))||(a(t.elements_parent_selector).find("> ."+t.prefix+"-tmp").before(l),n=e.find(t.elements_selector),n=function(e,t,n,a){for(var i=t.length-2;i>a;i--)t=u(e,t,i+1,i);return e.find(n.elements_selector)}(e,n,t,o-1)),t.position_field_selector&&b(t,n)};t.fade_out?i.fadeOut("fast",(function(){r()})):r()}return n},w=function(e,t,n,a,i,o){return 1===Math.abs(o-i)?(n=u(e,n,i,o),c(o-i>0?t.after_up(e,a):t.after_down(e,a))||(n=u(e,n,o,i))):i<o?(n=p(e,n,t,i,o),c(o-i>0?t.after_up(e,a):t.after_down(e,a))||(n=_(e,n,t,o,i))):(n=_(e,n,t,i,o),c(o-i>0?t.after_up(e,a):t.after_down(e,a))||(n=p(e,n,t,o,i))),h(e,t,!1),t.position_field_selector?b(t,n):n},b=function(e,t){return a(t).each((function(){var n=a(this);l(n.find(e.position_field_selector),t.index(n))})),t},y=function(e,t){return t.find(':input[name^="'+e.name_prefix+'["]').attr("name").slice(e.name_prefix.length+1).split("]",1)[0]},j=function(e,t){var n=0;return t.each((function(){var t=y(e,a(this));/^0|[1-9]\d*$/.test(t)&&t>=n&&(n=Number(t)+1)})),n},k=function(e,t){a.each(["-action","-action-disabled","-actions","-add","-down","-duplicate","-remove","-rescue-add","-tmp","-up"],(function(){var n=this;t.each((function(){var t=a(this);t.hasClass(e.user_prefix+n)&&t.addClass(e.prefix+n),t.find("*").each((function(){var t=a(this);t.hasClass(e.user_prefix+n)&&t.addClass(e.prefix+n)}))}))}))},q=a(this);return 0===q.length?(console.log("jquery.collection.js: given collection selector does not exist."),!1):(q.each((function(){var o=a.extend(!0,{},t,e);if(0===a(o.container).length)return console.log("jquery.collection.js: a container should exist to handle events (basically, a <body> tag)."),!1;var s,d,f=a(this);if(void 0!==f.data("collection")){var p=a("#"+f.data("collection"));if(0===p.length)return console.log("jquery.collection.js: given collection id does not exist."),!0}else p=f;if(p=a(p),o.elements_parent_selector=o.elements_parent_selector.replace("%id%","#"+n("",p)),!o.elements_parent_selector&&(o.elements_parent_selector="#"+n("",p),0===a(o.elements_parent_selector).length))return console.log("jquery.collection.js: given elements parent selector does not return any object."),!0;if(o.user_prefix=o.prefix,o.prefix=p.attr("id")+"-"+o.user_prefix,k(o,p),o.allow_add||(o.allow_duplicate=!1,o.add_at_the_end=!1),o.init_with_n_elements>o.max&&(o.init_with_n_elements=o.max),o.min&&(!o.init_with_n_elements||o.init_with_n_elements<o.min)&&(o.init_with_n_elements=o.min),!o.action_container_tag)return console.log("jquery.collection.js: action_container_tag needs to be set."),!0;if(o.before_init(p),null===p.data("prototype"))return console.log("jquery.collection.js: given collection field has no prototype, check that your field has the prototype option set to true."),!0;if(void 0!==p.data("prototype-name")&&(o.prototype_name=p.data("prototype-name")),void 0!==p.data("allow-add")&&(o.allow_add=p.data("allow-add"),o.allow_duplicate=!!p.data("allow-add")&&o.allow_duplicate),void 0!==p.data("allow-remove")&&(o.allow_remove=p.data("allow-remove")),void 0!==p.data("name-prefix")&&(o.name_prefix=p.data("name-prefix")),!o.name_prefix)return console.log("jquery.collection.js: the prefix used in descendant field names is mandatory, you can set it using 2 ways:"),console.log("jquery.collection.js: - use the form theme given with this plugin source"),console.log("jquery.collection.js: - set name_prefix option to  '{{ formView.myCollectionField.vars.full_name }}'"),!0;o.preserve_names&&(o.allow_up=!1,o.allow_down=!1,o.drag_drop=!1,o.add_at_the_end=!0),void 0!==i.ui&&void 0!==i.ui.sortable&&p.data("sortable")&&p.sortable("disable"),o.drag_drop&&o.allow_up&&o.allow_down&&(void 0===i.ui||void 0===i.ui.sortable?o.drag_drop=!1:p.sortable(a.extend(!0,{},{start:function(e,t){var n=p.find(o.elements_selector),i=t.item,r=a(this);c(o.drag_drop_start(e,t,n,i))?(t.placeholder.height(t.item.height()),t.placeholder.width(t.item.width()),s=n.index(i)):r.sortable("cancel")},update:function(e,t){var n=p.find(o.elements_selector),i=t.item;a(this).sortable("cancel"),!1!==o.drag_drop_update(e,t,n,i)&&c(d-s>0?o.before_up(p,i):o.before_down(p,i))&&(d=n.index(i),n=p.find(o.elements_selector),w(p,o,n,i,s,d))}},o.drag_drop_options))),p.data("collection-settings",o);var _=a(o.container);if(_.off("click","."+o.prefix+"-action").on("click","."+o.prefix+"-action",(function(e){var t,n,i=a(this);if(void 0===(n=(t=a("#"+i.data("collection"))).data("collection-settings"))&&void 0===(n=(t=a("#"+i.data("collection")).find("."+i.data("collection")+"-collection")).data("collection-settings")))throw"Can't find collection: "+i.data("collection");var o=t.find(n.elements_selector),r=i.data("element")?a("#"+i.data("element")):void 0,l=r&&r.length?o.index(r):-1,s=null,d=i.is("."+n.prefix+"-duplicate");(i.is("."+n.prefix+"-add")||i.is("."+n.prefix+"-rescue-add")||d)&&n.allow_add&&(s="add",o=g(_,i,t,n,o,r,l,d)),i.is("."+n.prefix+"-remove")&&n.allow_remove&&(s="remove",o=x(t,n,o,r,l)),i.is("."+n.prefix+"-up")&&n.allow_up&&(s="up",o=function(e,t,n,a,i){return 0!==i&&c(t.before_up(e,a))&&(n=u(e,n,i,i-1),c(t.after_up(e,a))||(n=u(e,n,i-1,i))),t.position_field_selector?b(t,n):n}(t,n,o,r,l)),i.is("."+n.prefix+"-down")&&n.allow_down&&(s="down",o=function(e,t,n,a,i){return i!==n.length-1&&c(t.before_down(e,a))&&(n=u(e,n,i,i+1),c(t.after_down(e,n))||(n=u(e,n,i+1,i))),t.position_field_selector?b(t,n):n}(t,n,o,r,l)),h(t,n,!1,s),e.preventDefault()})),h(p,o,!0),v(p,null,o),o.position_field_selector){var m=[],y=p.find(o.elements_selector);y.each((function(e){var t=a(this);m.push({position:parseFloat(r(t.find(o.position_field_selector))),element:t})})),m.sort((function(e,t){return e.position<t.position?-1:e.position>t.position?1:0})),a.each(m,(function(e,t){var n=[];a(y).each((function(e){n.push(a(this).attr("id"))}));var i=t.element,r=a.inArray(i.attr("id"),n);e!==r&&(y=w(p,o,y,i,r,e),l(i.find(o.position_field_selector),y.index(i)))}))}o.after_init(p)})),!0)}}},0,[[20198,3666,9755,2109,2402,2319]]]);