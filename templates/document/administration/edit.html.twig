{% extends is_granted('ROLE_QUALITE') ? 'base-super_admin.html.twig' : 'base.html.twig' %}

{% block header %}
    {{ 'adm.document.modification.heading'|trans }}
{% endblock %}

{% block headeractions %}
    <div class="header-action">
        {% if is_granted('ROLE_QUALITE') %}
            <div class="buttons">
                <a href="{{ path('sa_qualite_documents_delete', {id: document.uuidString, source: source}) }}"
                   data-csrf="{{ csrf_token
                       ('delete' ~ document.id) }}"
                   class="btn btn-danger btn-sm btn-float supprimer" title="{{ 'atitle.supprimer'|trans }}" data-bs-toggle="tooltip" data-bs-placement="bottom"
                ><i class="{{ iconDelete }}"></i></a>
                <a href="{{ path('sa_qualite_documents_show', {id: document.uuidString, source: source}) }}" class="btn btn-info btn-sm btn-float" title="{{ 'atitle.voir'|trans }}" data-bs-toggle="tooltip" data-bs-placement="bottom"
                ><i class="fas fa-eye"></i></a>

                <a href="{{ path('sa_qualite_documents_index', {source: source}) }}" class="btn btn-primary btn-float" title="{{ 'atitle.retour_liste'|trans }}" data-bs-toggle="tooltip" data-bs-placement="bottom"
                ><i class="fas fa-arrow-left"></i></a>
            </div>
        {% else %}
            <div class="buttons">
                <a href="{{ path('administration_document_delete', {id: document.uuidString, source: source}) }}"
                   data-csrf="{{ csrf_token('delete' ~ document.id) }}"
                   class="btn btn-danger btn-sm btn-float supprimer"
                   title="{{ 'atitle.supprimer'|trans }}"
                   data-bs-toggle="tooltip" data-bs-placement="bottom"
                >
                    <i class="{{ iconDelete }}"></i>
                    <span class="sr-only">{{ 'atitle.supprimer'|trans }}</span>
                </a>
                <a href="{{ path('administration_document_show', {id: document.uuidString, source: source}) }}"
                   class="btn btn-info btn-sm btn-float"
                   title="{{ 'atitle.voir'|trans }}"
                   data-bs-toggle="tooltip" data-bs-placement="bottom"
                >
                    <i class="{{ iconShow }}"></i>
                    <span class="sr-only">{{ 'atitle.voir'|trans }}</span>
                </a>
                    <a href="{{ path('administration_document_index', {source:source}) }}"
                       class="btn btn-primary btn-float"
                       title="{{ 'atitle.retour_liste'|trans }}"
                       data-bs-toggle="tooltip" data-bs-placement="bottom"
                    >
                        <i class="fas fa-arrow-left"></i>
                        <span class="sr-only">{{ 'atitle.retour_liste'|trans }}</span>
                    </a>
            </div>

        {% endif %}
    </div>
{% endblock %}

{% block content %}
    <div class="card">
        <h4 class="card-title">{{ 'adm.document.modification.heading'|trans }}</h4>
        <div class="card-body">
            {{ include('composants/adm-form.html.twig', {'button_label': 'update'|trans}) }}
        </div>
    </div>
{% endblock %}
