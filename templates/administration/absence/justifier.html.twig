{% extends 'base.html.twig' %}

{% block header %}
    {{ 'justifier.absences.heading'|trans({'%semestre%':semestre.libelle})|raw }}
{% endblock %}

{% block headerright %}
    <div class="right gap-items-2">
        {{ include('administration/_navSemestre.html.twig', {path_name: 'administration_absences_semestre_justifier'}) }}
    </div>
{% endblock %}

{% block stimulus %}
    {{ stimulus_controller('adm--justifier-absences', {
        urlListeAbsences: path('administration_absences_liste_absence_etudiant'),
        urlJustifierAbsence: path('administration_absences_justifie'),
    }) }}
{% endblock %}

{% block content %}
    <header class="card-top-header">
        <h4 class="card-top-title">{{ 'selectionnez.un.etudiant'|trans }}</h4>
    </header>
    <div class="card">
        <div class="card-body">
            <div class="form-group">
                <label for="justifier_etudiant"
                       class="form-label required">{{ 'choisir.letudiant'|trans }}</label>
                <select id="justifier_etudiant" name="justifier_etudiant" required="required"
                        {{ stimulus_controller('symfony/ux-autocomplete/autocomplete') }}
                        {{ stimulus_action('adm--justifier-absences', 'changeEtudiant') }}
                        class="form-select">
                    <option value="">{{ 'choisir.letudiant'|trans }}</option>
                    {% for etudiant in semestre.etudiants %}
                        <option value="{{ etudiant.id }}">{{ etudiant.display }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>

    <div {{ stimulus_target('adm--justifier-absences', 'listeJustifie') }}>
        <header class="card-top-header">
            <h4 class="card-top-title">{{ 'selectionnez.un.etudiant'|trans }}</h4>
        </header>
        <div class="card">
            <div class="card-body">
                <twig:Alert type="info">Choisir un Ã©tudiant</twig:Alert>
            </div>
        </div>
    </div>
{% endblock %}
